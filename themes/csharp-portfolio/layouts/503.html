{{ define "main" }}
<div class="container">
    <section class="error-503 section" aria-labelledby="error-title">
        <div class="error-content">
            <div class="error-code-block" role="img" aria-label="C# code example showing a 503 service unavailable method">
                <div class="error-method">
                    <span class="code-keyword" aria-hidden="true">public</span>
                    <span class="code-type" aria-hidden="true">IActionResult</span>
                    <span class="code-method">CheckServiceStatus</span><span class="code-parentheses" aria-hidden="true">()</span>
                </div>
                <div class="error-method-body">
                    <span class="code-brace" aria-hidden="true">{</span>
                    <div class="error-method-content">
                        <div class="code-line">
                            <span class="code-keyword" aria-hidden="true">if</span>
                            <span class="code-parentheses" aria-hidden="true">(</span><span class="code-variable" aria-hidden="true">IsMaintenanceMode</span><span class="code-parentheses" aria-hidden="true">)</span>
                        </div>
                        <div class="code-line code-indent">
                            <span class="code-brace" aria-hidden="true">{</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-comment" aria-hidden="true">// Site is temporarily down for maintenance</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-variable" aria-hidden="true">Response</span><span class="code-dot" aria-hidden="true">.</span><span class="code-property" aria-hidden="true">Headers</span><span class="code-dot" aria-hidden="true">.</span><span class="code-method" aria-hidden="true">Add</span><span class="code-parentheses" aria-hidden="true">(</span><span class="code-string" aria-hidden="true">"Retry-After"</span><span class="code-comma" aria-hidden="true">,</span> <span class="code-string" aria-hidden="true">"3600"</span><span class="code-parentheses" aria-hidden="true">)</span><span class="code-semicolon" aria-hidden="true">;</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-keyword" aria-hidden="true">return</span>
                            <span class="code-method" aria-hidden="true">StatusCode</span><span class="code-parentheses" aria-hidden="true">(</span><span class="code-number" aria-hidden="true">503</span><span class="code-comma" aria-hidden="true">,</span> <span class="code-string" aria-hidden="true">"Service Unavailable"</span><span class="code-parentheses" aria-hidden="true">)</span><span class="code-semicolon" aria-hidden="true">;</span>
                        </div>
                        <div class="code-line code-indent">
                            <span class="code-brace" aria-hidden="true">}</span>
                        </div>
                        <div class="code-line">
                            <span class="code-keyword" aria-hidden="true">return</span>
                            <span class="code-method" aria-hidden="true">Ok</span><span class="code-parentheses" aria-hidden="true">()</span><span class="code-semicolon" aria-hidden="true">;</span>
                        </div>
                    </div>
                    <span class="code-brace" aria-hidden="true">}</span>
                </div>
            </div>

            <div class="error-details">
                <h1 id="error-title" class="error-number">503</h1>
                <h2 class="error-message">Service Unavailable</h2>
                <p class="error-description xml-comment">
                    /// The service is temporarily unavailable due to maintenance or high traffic. 
                    /// Please try again in a few minutes.
                </p>

                <div class="maintenance-status">
                    <div class="status-indicator">
                        <div class="status-dot pulsing"></div>
                        <span class="status-text">Maintenance in progress...</span>
                    </div>
                </div>

                <div class="error-suggestions">
                    <div class="suggestion-code">
                        <div class="code-comment">// What's happening:</div>
                        <div class="suggestion-list">
                            <div class="suggestion-item">
                                <span class="code-comment">• Scheduled maintenance window</span>
                            </div>
                            <div class="suggestion-item">
                                <span class="code-comment">• System updates in progress</span>
                            </div>
                            <div class="suggestion-item">
                                <span class="code-comment">• Performance optimizations</span>
                            </div>
                            <div class="suggestion-item">
                                <span class="code-comment">• Service will resume shortly</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="error-actions">
                    <button onclick="location.reload()" class="btn btn-primary error-btn" aria-describedby="retry-desc">
                        <span class="btn-return-type" aria-hidden="true">void</span>
                        <span class="btn-method">RetryConnection</span>
                        <span class="btn-params" aria-hidden="true">()</span>
                    </button>
                    <span id="retry-desc" class="sr-only">Retry loading the page</span>
                    
                    <a href="/" class="btn btn-secondary error-btn" aria-describedby="home-desc">
                        <span class="btn-return-type" aria-hidden="true">void</span>
                        <span class="btn-method">GoHome</span>
                        <span class="btn-params" aria-hidden="true">()</span>
                    </a>
                    <span id="home-desc" class="sr-only">Navigate to home page</span>

                    <button onclick="setTimeout(() => location.reload(), 60000)" class="btn btn-outline error-btn" aria-describedby="wait-desc">
                        <span class="btn-return-type" aria-hidden="true">Task</span>
                        <span class="btn-method">WaitAndRetry</span>
                        <span class="btn-params" aria-hidden="true">()</span>
                    </button>
                    <span id="wait-desc" class="sr-only">Wait 1 minute and retry automatically</span>
                </div>
            </div>

            <div class="error-ascii" aria-hidden="true">
                <pre class="ascii-art">
    ╔══════════════════════════════════════╗
    ║        SERVICE UNAVAILABLE 503       ║
    ║                                      ║
    ║    ⚙️ MAINTENANCE MODE ACTIVE         ║
    ║                                      ║
    ║    • System updates in progress      ║
    ║    • Database optimization running   ║
    ║    • Performance enhancements        ║
    ║                                      ║
    ║    Estimated completion: ~30 min     ║
    ║                                      ║
    ╚══════════════════════════════════════╝
                </pre>
            </div>
        </div>
    </section>
</div>

<style>
.error-503 {
    min-height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.error-content {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
}

.error-code-block {
    background: var(--code-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    font-family: var(--font-mono);
    text-align: left;
}

.error-method {
    color: var(--code-keyword);
    margin-bottom: 0.5rem;
}

.error-method-body {
    padding-left: 1rem;
}

.error-method-content {
    padding: 0.5rem 0;
    padding-left: 1rem;
}

.code-line {
    margin: 0.3rem 0;
}

.code-indent {
    padding-left: 1rem;
}

.code-indent2 {
    padding-left: 2rem;
}

.error-details {
    margin: 2rem 0;
}

.error-number {
    font-size: 6rem;
    font-weight: bold;
    color: #f39c12;
    margin: 0;
    font-family: var(--font-mono);
}

.error-message {
    font-size: 2rem;
    color: var(--text-primary);
    margin: 1rem 0;
}

.error-description {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin: 1.5rem 0;
    font-style: italic;
}

.maintenance-status {
    margin: 2rem 0;
}

.status-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin: 1rem 0;
}

.status-dot {
    width: 12px;
    height: 12px;
    background-color: #f39c12;
    border-radius: 50%;
}

.status-dot.pulsing {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.5;
        transform: scale(1.2);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

.status-text {
    font-family: var(--font-mono);
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.error-suggestions {
    margin: 2rem 0;
}

.suggestion-code {
    background: var(--code-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1rem;
    font-family: var(--font-mono);
    text-align: left;
    max-width: 400px;
    margin: 0 auto;
}

.suggestion-list {
    margin-top: 0.5rem;
}

.suggestion-item {
    margin: 0.3rem 0;
    padding-left: 1rem;
}

.error-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin: 2rem 0;
}

.error-btn {
    min-width: 160px;
}

.error-ascii {
    margin-top: 3rem;
    opacity: 0.7;
}

.ascii-art {
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: var(--text-secondary);
    overflow-x: auto;
}

@media (max-width: 768px) {
    .error-number {
        font-size: 4rem;
    }
    
    .error-message {
        font-size: 1.5rem;
    }
    
    .error-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .error-btn {
        width: 100%;
        max-width: 220px;
    }
    
    .ascii-art {
        font-size: 0.6rem;
    }
}
</style>
{{ end }}