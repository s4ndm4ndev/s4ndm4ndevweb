{{ define "main" }}
<div class="container">
    <section class="error-500 section" aria-labelledby="error-title">
        <div class="error-content">
            <div class="error-code-block" role="img" aria-label="C# code example showing a 500 error handling method">
                <div class="error-method">
                    <span class="code-keyword" aria-hidden="true">public</span>
                    <span class="code-type" aria-hidden="true">IActionResult</span>
                    <span class="code-method">HandleServerError</span><span class="code-parentheses" aria-hidden="true">()</span>
                </div>
                <div class="error-method-body">
                    <span class="code-brace" aria-hidden="true">{</span>
                    <div class="error-method-content">
                        <div class="code-line">
                            <span class="code-keyword" aria-hidden="true">try</span>
                        </div>
                        <div class="code-line code-indent">
                            <span class="code-brace" aria-hidden="true">{</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-method" aria-hidden="true">ProcessRequest</span><span class="code-parentheses" aria-hidden="true">()</span><span class="code-semicolon" aria-hidden="true">;</span>
                        </div>
                        <div class="code-line code-indent">
                            <span class="code-brace" aria-hidden="true">}</span>
                        </div>
                        <div class="code-line">
                            <span class="code-keyword" aria-hidden="true">catch</span>
                            <span class="code-parentheses" aria-hidden="true">(</span><span class="code-type" aria-hidden="true">Exception</span> <span class="code-variable" aria-hidden="true">ex</span><span class="code-parentheses" aria-hidden="true">)</span>
                        </div>
                        <div class="code-line code-indent">
                            <span class="code-brace" aria-hidden="true">{</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-comment" aria-hidden="true">// Something went wrong on our end</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-variable" aria-hidden="true">Logger</span><span class="code-dot" aria-hidden="true">.</span><span class="code-method" aria-hidden="true">LogError</span><span class="code-parentheses" aria-hidden="true">(</span><span class="code-variable" aria-hidden="true">ex</span><span class="code-parentheses" aria-hidden="true">)</span><span class="code-semicolon" aria-hidden="true">;</span>
                        </div>
                        <div class="code-line code-indent2">
                            <span class="code-keyword" aria-hidden="true">return</span>
                            <span class="code-method" aria-hidden="true">StatusCode</span><span class="code-parentheses" aria-hidden="true">(</span><span class="code-number" aria-hidden="true">500</span><span class="code-parentheses" aria-hidden="true">)</span><span class="code-semicolon" aria-hidden="true">;</span>
                        </div>
                        <div class="code-line code-indent">
                            <span class="code-brace" aria-hidden="true">}</span>
                        </div>
                    </div>
                    <span class="code-brace" aria-hidden="true">}</span>
                </div>
            </div>

            <div class="error-details">
                <h1 id="error-title" class="error-number">500</h1>
                <h2 class="error-message">Internal Server Error</h2>
                <p class="error-description xml-comment">
                    /// An unexpected error occurred on our servers. 
                    /// Our team has been notified and is working to resolve this issue.
                </p>

                <div class="error-suggestions">
                    <div class="suggestion-code">
                        <div class="code-comment">// Troubleshooting steps:</div>
                        <div class="suggestion-list">
                            <div class="suggestion-item">
                                <span class="code-comment">• Refresh the page in a few moments</span>
                            </div>
                            <div class="suggestion-item">
                                <span class="code-comment">• Clear your browser cache</span>
                            </div>
                            <div class="suggestion-item">
                                <span class="code-comment">• Try again later</span>
                            </div>
                            <div class="suggestion-item">
                                <span class="code-comment">• Contact support if problem persists</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="error-actions">
                    <button onclick="location.reload()" class="btn btn-primary error-btn" aria-describedby="refresh-desc">
                        <span class="btn-return-type" aria-hidden="true">void</span>
                        <span class="btn-method">Refresh</span>
                        <span class="btn-params" aria-hidden="true">()</span>
                    </button>
                    <span id="refresh-desc" class="sr-only">Refresh the current page</span>
                    
                    <a href="/" class="btn btn-secondary error-btn" aria-describedby="home-desc">
                        <span class="btn-return-type" aria-hidden="true">void</span>
                        <span class="btn-method">GoHome</span>
                        <span class="btn-params" aria-hidden="true">()</span>
                    </a>
                    <span id="home-desc" class="sr-only">Navigate to home page</span>

                    <a href="/contact" class="btn btn-outline error-btn" aria-describedby="contact-desc">
                        <span class="btn-return-type" aria-hidden="true">void</span>
                        <span class="btn-method">ContactSupport</span>
                        <span class="btn-params" aria-hidden="true">()</span>
                    </a>
                    <span id="contact-desc" class="sr-only">Contact support</span>
                </div>
            </div>

            <div class="error-ascii" aria-hidden="true">
                <pre class="ascii-art">
    ╔══════════════════════════════════════╗
    ║           SERVER ERROR 500           ║
    ║                                      ║
    ║    [ERROR] Unhandled Exception       ║
    ║    at System.Web.Mvc.Controller      ║
    ║    .ExecuteCore()                    ║
    ║                                      ║
    ║    Stack trace logged.               ║
    ║    Debugging in progress...          ║
    ║                                      ║
    ╚══════════════════════════════════════╝
                </pre>
            </div>
        </div>
    </section>
</div>

<style>
.error-500 {
    min-height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.error-content {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
}

.error-code-block {
    background: var(--code-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    font-family: var(--font-mono);
    text-align: left;
}

.error-method {
    color: var(--code-keyword);
    margin-bottom: 0.5rem;
}

.error-method-body {
    padding-left: 1rem;
}

.error-method-content {
    padding: 0.5rem 0;
    padding-left: 1rem;
}

.code-line {
    margin: 0.3rem 0;
}

.code-indent {
    padding-left: 1rem;
}

.code-indent2 {
    padding-left: 2rem;
}

.error-details {
    margin: 2rem 0;
}

.error-number {
    font-size: 6rem;
    font-weight: bold;
    color: #e74c3c;
    margin: 0;
    font-family: var(--font-mono);
}

.error-message {
    font-size: 2rem;
    color: var(--text-primary);
    margin: 1rem 0;
}

.error-description {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin: 1.5rem 0;
    font-style: italic;
}

.error-suggestions {
    margin: 2rem 0;
}

.suggestion-code {
    background: var(--code-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1rem;
    font-family: var(--font-mono);
    text-align: left;
    max-width: 450px;
    margin: 0 auto;
}

.suggestion-list {
    margin-top: 0.5rem;
}

.suggestion-item {
    margin: 0.3rem 0;
    padding-left: 1rem;
}

.error-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin: 2rem 0;
}

.error-btn {
    min-width: 140px;
}

.error-ascii {
    margin-top: 3rem;
    opacity: 0.7;
}

.ascii-art {
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: var(--text-secondary);
    overflow-x: auto;
}

@media (max-width: 768px) {
    .error-number {
        font-size: 4rem;
    }
    
    .error-message {
        font-size: 1.5rem;
    }
    
    .error-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .error-btn {
        width: 100%;
        max-width: 200px;
    }
    
    .ascii-art {
        font-size: 0.6rem;
    }
}
</style>
{{ end }}